<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

        <!-- Custom CSS -->
        <link rel="stylesheet" type="text/css" href="css/styles.css">

        <!-- Favicons -->
        <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png">
        <link rel="manifest" href="/assets/favicons/site.webmanifest">
        <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#f44242">
        <link rel="shortcut icon" href="/assets/favicons/favicon.ico">
        <meta name="msapplication-TileColor" content="#f44242">
        <meta name="msapplication-config" content="/assets/favicons/browserconfig.xml">
        <meta name="theme-color" content="#f44242">

        <!-- Title -->
        <title>BU AR / VR</title>
    </head>
    <body>
        <!-- Navbar -->
        <nav class="navbar navbar-expand-sm navbar-light bg-light">
            <a class="navbar-brand pl-3" href="/">
                <!-- BU AR / VR -->
                <img src="assets/images/logo_horiz.png" height="40" alt="">
            </a>
            <button class="navbar-toggler custom-toggler mr-4" type="button" data-toggle="collapse" data-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        
            <div class="collapse navbar-collapse" id="navbarToggler">
                <ul class="navbar-nav mr-auto mt-0 mt-md-0 justify-content-end w-100 pr-5 pl-4">
                <li class="nav-item active">
                    <a class="nav-link" href="/">Home<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="about/">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="events/" tabindex="-1" aria-disabled="true">Events</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="members/">Members</a>
                </li>
                <!-- <li class="nav-item">
                    <a class="nav-link disabled" href="#">Festival</a>
                </li> -->
                </ul>
            </div>
        </nav>

        <div class="intro-banner">
          <h1>Augmented & Virtual Reality</h1>
          <h2>@ Boston University</h2>
          <!-- <img height="300px" style="display:inline" src="/assets/images/logo_vert.png"> -->
          <!-- <h1 style="display:inline">Boston University's Premiere Augmented and Virtual Reality Community</h1> -->
        </div>

        <div class="mission">
          <h1>
            We're making Boston University the place to be in order to get the 
            best insight and recognition in the cutting-edge AR / VR field.
          </h1>
          <ul style="padding-top: 2em;">
            <li>
              > &emsp; Our club is a group of energetic people dedicated to introducing
              augmented and virtual reality tech to the Boston community. We 
              develop group projects and hold weekly meetings, workshops, and
              events!
            </li> 
            <li style="padding-bottom: 0em;">
                > &emsp; Our meetings are every Tuesday at 6pm. We meet in the Hariri Seminar
              Room in 111 Cummington Mall. It's the building right in between Warren
              Towers and the PSY building!  
            </li>
          </ul>
        </div>

        <div class="our-next-event">
          <h1>Upcoming Event:</h1>
          <h2>Don't miss it!</h2>
          <hr>
          <a style="color: #f44242" href="events/"><h1 id="next-event"></h1></a>
          <h1></h1>
          <h2 id="event-day"></h2>
          <h2 style="display:inline" id="event-start"></h2>
          <h2 style="display:inline"> &mdash; </h2>
          <h2 style="display:inline" id="event-end"></h2>
          <h2></h2>
          <br>
          <h3 id="event-countdown"></h3>
        </div>

        <!-- Page Content -->
        <!-- <div id="content"> -->
          
          <!-- <div class="hero-image">
            <div class="hero-text">
              <h1>BOSTON UNIVERSITY</h1>
              <h1>AR / VR CLUB</h1>
              <button class="btnHero">Join Now!</button>
            </div>
          </div> -->

          
          
          <!-- <div class="jumbotron jumbotron-fluid">
            <div class="container">
              <h1 class="display-4">OUR NEXT EVENT:</h1>
              <hr class="my-4">
              <p id="next-event"></p>
            </div>
          </div> -->
          
          <!-- <div class="container container-info">
            <div class="row">
              <div class="col">
                <h1> About Us</h1>
                <br>
                <p>We are an energetic group of people dedicated to </p>
                <p> introduce augmented reality and virtual </p>
                <p>reality technologies to the community around us.</p>
                <p>We delevop group projects and hold weekly meetings</p>
                <p>and workshops for the BU community. </p>
          
              </div>
               <div class="col">
                 <h1>Meetings</h1>
                 <br>
                 <h3>When?</h3>
                 <p> - Tuesdays 6:00 pm</p>
                 <h3>Where?</h3>
                 <p> - Hariri Seminar Room</p>
                 <p> - Cummington Mall 111</p>
                 <p> - Building behind Warren Towers</p>
              </div>
            </div>
          </div> -->
          
          

          <!--End mc_embed_signup-->

          <!-- <div class="jumbotron jumbotron-fluid">
            <div class="container">
              <h1 class="display-4 text-center">Join Us !</h1>
              <hr class="my-4">
              <h3 class="text-center">1) Subscribe to our mailing list</h3>
              <form>
              <div class="form-group">
                <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
              <br>
              <h3 class="text-center">2) Follow us on Facebook</h3>
              <br>
              <h3 class="text-center">3) Come to our meetings</h3>
            </div>
          </div> -->
        <!-- </div> -->
        
        <div class="closing-banner">
          <h1>Let's keep in touch.</h1>
          <hr>
          <!-- Begin Mailchimp Signup Form -->
          <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
          <div id="mc_embed_signup">
            <form action="https://facebook.us16.list-manage.com/subscribe/post?u=052ac118f14ded5c922ed833d&amp;id=7d1d9c35ee" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                <div id="mc_embed_signup_scroll">
              <!-- <label for="mce-EMAIL">Subscribe to our mailing list!</label> -->
              <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
                <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_052ac118f14ded5c922ed833d_7d1d9c35ee" tabindex="-1" value=""></div>
                <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
                </div>
            </form>
            <a href="https://www.facebook.com/groups/buarvr/"><button type="button" class="btn btn-custom btn-lg mt-5">Join our Facebook group!</button></a>
          </div>
        </div>

        <div id="closing">
            <ul class="list-inline">
              <!-- Facebook -->
              <li class="list-inline-item">
                <a href="https://www.facebook.com/groups/buarvr/">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                      <path fill="#000" d="M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"/>
                    </svg>
                </a>
              </li>
              <!-- Twitter -->
              <li class="list-inline-item">
                <a href="https://twitter.com/buarvr">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path fill="#000" d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                  </svg>
                </a>
              </li>
              <!-- LinkedIn -->
              <!-- <li class="list-inline-item">
                <a href="https://www.linkedin.com/in/ctrinh98">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path fill="#000" d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"/>
                  </svg>
                </a>
              </li> -->
              <!-- Resume -->
              <!-- <li class="list-inline-item">
                <a href="assets/files/ChristopherTrinhResume.pdf">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path fill="#000" d="M13.744 8s1.522-8-3.335-8h-8.409v24h20v-13c0-3.419-5.247-3.745-8.256-3zm.256 11h-8v-1h8v1zm4-3h-12v-1h12v1zm0-3h-12v-1h12v1zm-3.432-12.925c2.202 1.174 5.938 4.883 7.432 6.881-1.286-.9-4.044-1.657-6.091-1.179.222-1.468-.185-4.534-1.341-5.702z"/>
                  </svg>
                </a>
              </li> -->
              <!-- Spotify -->
              <!-- <li class="list-inline-item">
                test
              </li> -->
            </ul>
            <p>BU AR / VR 2019</p>
          </div>
        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
        <!-- Google Calendar API -->
        <script src="https://apis.google.com/js/api.js"></script>
        <script>
          /**
          * Sample JavaScript code for calendar.events.list
          * See instructions for running APIs Explorer code samples locally:
          * https://developers.google.com/explorer-help/guides/code_samples#javascript
          */

          window.onload = function loadClient() {
            gapi.client.setApiKey("AIzaSyBGaPBIsyAP6Jvt16Dy1hKl_0_IQO5Gtzg");
            gapi.client.load("https://content.googleapis.com/discovery/v1/apis/calendar/v3/rest")
                .then(function() { console.log("GAPI client loaded for API"); execute(); },
                      function(err) { console.error("Error loading GAPI client for API", err); });
            
          }
          function formatAMPM(date) {
            var hours = date.getHours();
            var minutes = date.getMinutes();
            var ampm = hours >= 12 ? 'pm' : 'am';
            hours = hours % 12;
            hours = hours ? hours : 12; // the hour '0' should be '12'
            minutes = minutes < 10 ? '0'+minutes : minutes;
            var strTime = hours + ':' + minutes + '' + ampm;
            return strTime;
          }

          // Make sure the client is loaded before calling this method.
          function execute() {
            return gapi.client.calendar.events.list({
              "calendarId": "n3e579ftvpu1mmshai89lls840@group.calendar.google.com"
            })
                .then(function(response) {
                        // Handle the results here (response.result has the parsed body).
                        var ret = "";
                        console.log("Response", response['result']['items']);
                        console.log(new Date());
                        latest = Date.parse(response['result']['items'][0]['start']['dateTime']);
                        latDesc = response['result']['items'][0]['summary'];
                        earliest = Date.parse(response['result']['items'][0]['start']['dateTime']);
                        earDesc = response['result']['items'][0]['summary'];
                        console.log("latest default: ", latest)
                        // === LOOK FOR LATEST EVENT === //
                        for (var i = 0; i < response['result']['items'].length; i++) { 
                          curr = Date.parse(response['result']['items'][i]['start']['dateTime']);
                          console.log("curr:", curr)
                          if (curr > latest) {
                            latest = curr;
                            latDesc = response['result']['items'][i]['summary'];
                          }
                        }
                        console.log("LATEST TIME BELOW:")
                        console.log("latest:", latest);
                        console.log("latDesc:", latDesc);
                        latStart = "";
                        latEnd = "";
                        // === LOOK FOR NEXT EVENT === //
                        for (var i = 0; i < response['result']['items'].length; i++) { 
                          today = Date.parse(new Date().toISOString());
                          curr = Date.parse(response['result']['items'][i]['start']['dateTime']);
                          // console.log(today);
                          // console.log(curr);
                          // console.log("Event name:", response['result']['items'][i]['summary']);
                          // console.log("Event name:", response['result']['items'][i]['start']['dateTime']);
                          // console.log(new Date().toISOString());
                          // console.log(Date.parse(response['result']['items'][i]['start']['dateTime']) > Date.parse(new Date().toISOString()));
                          if (curr < latest && curr > today) {
                            latest = curr;
                            latStart = new Date(response['result']['items'][i]['start']['dateTime']);
                            latEnd = new Date(response['result']['items'][i]['end']['dateTime']);
                            latDesc = response['result']['items'][i]['summary'];
                            // console.log(response['result']['items'][i]['summary'])
                            // if (curr > today) {
                            //   earliest = Date.parse(response['result']['items'][i]['start']['dateTime']);
                            //   ret = response['result']['items'][i]['summary'];
                            // }
                            // break;
                          }
                        }
                        console.log("NEXT EVENT BELOW:");
                        console.log("latest:", latest);
                        console.log("latDesc:", latDesc);
                        // === CONVERT DATE TO NORMAL PEOPLE SPEAK === //
                        var dateObj = latStart;
                        var month = dateObj.getUTCMonth() + 1; //months from 1-12
                        var day = dateObj.getUTCDate();
                        var year = dateObj.getUTCFullYear();
                        newdate = month + "/" + day + "/" + year;

                        console.log(newdate)
                        console.log(latStart)
                        console.log(formatAMPM(latStart));
                        latStart2 = latStart;
                        latStart = formatAMPM(latStart);
                        console.log(formatAMPM(latEnd));
                        latEnd = formatAMPM(latEnd);
                        // console.log(ret);
                        document.getElementById("next-event").innerHTML = latDesc;
                        document.getElementById("event-day").innerHTML = newdate;
                        document.getElementById("event-start").innerHTML = latStart;
                        document.getElementById("event-end").innerHTML = latEnd;
                        // === COUNTDOWN === //
                        today = new Date();

                        BigDay = latStart2;
                        msPerDay = 24 * 60 * 60 * 1000 ;
                        timeLeft = (BigDay.getTime() - today.getTime());
                        e_daysLeft = timeLeft / msPerDay;
                        daysLeft = Math.floor(e_daysLeft);
                        e_hrsLeft = (e_daysLeft - daysLeft)*24;
                        hrsLeft = Math.floor(e_hrsLeft);
                        minsLeft = Math.floor((e_hrsLeft - hrsLeft)*60);
                        document.getElementById("event-countdown").innerHTML = ("<p>That's in " + daysLeft + " days, " + hrsLeft +" hours, and " + minsLeft + " minutes!</p>");
                        // document.write("<p>There are only<b>" + daysLeft + " days " + hrsLeft +" hours and " + minsLeft + " minutes left </b> Until December 25th 2025</p>");
                      },
                      function(err) { console.error("Execute error", err); });
          }
          gapi.load("client");
        </script>
        <script>
          $(window).scroll(function() {
            $(".parallax").css("opacity", 1 - $(window).scrollTop() / 350);
          });
        </script>
        <!-- <button onclick="loadClient()">load</button>
        <button onclick="execute()">execute</button> -->

  </body>
</html>
